(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{38:function(t,e,n){t.exports=n(76)},76:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),o=n(21),s=n.n(o),i=n(78),c=n(79),u=n(83),l=n(77),p=function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{bg:"dark",variant:"dark"},r.a.createElement(u.a.Brand,{href:""},r.a.createElement("img",{alt:"",src:"/logo.png",width:"30",height:"30",className:"d-inline-block align-top mr-4"}),"High kick")),r.a.createElement(l.a,null,t.children))},d=n(2),h=n.n(d),m=n(6),f=n(9),b=n(10),v=n(14),y=n(12),j=n(13),w=function(){function t(e){Object(f.a)(this,t),this.id=0,this.type="",this.path="",this.sid="",this.input="",this.output="",this.status="initial",this.createdAt="",this.childs=[],e.id&&(this.id=e.id),e.type&&(this.type=e.type),e.path&&(this.path=e.path),e.sid&&(this.sid=e.sid),e.input&&(this.input=e.input),e.output&&(this.output=e.output),e.status&&(this.status=e.status),e.createdAt&&(this.createdAt=e.createdAt),e.childs&&(this.childs=e.childs)}return Object(b.a)(t,[{key:"isRoot",value:function(){return""===this.path}},{key:"parentID",value:function(){if(this.isRoot())return null;var t=this.path.split("/").map(parseInt);return t[t.length-1]}}],[{key:"deserialize",value:function(e){return new t(e)}}]),t}(),g=window.location,k=g.protocol,E=g.hostname,O="".concat(k,"//").concat(E,":8000/highkick"),x={URLS:{jobs:{retry:function(t){return"".concat(O,"/jobs/").concat(t,"/retry")},subtree:function(t){return"".concat(O,"/jobs/").concat(t,"/subtree")}},jobRoots:{index:"".concat(O,"/job_roots")},jobLogs:{index:function(t){return"".concat(O,"/jobs/").concat(t,"/logs")}}}},L=n(37),I=n.n(L),R={Accept:"application/json","Content-Type":"application/json"};function S(t,e){return U.apply(this,arguments)}function U(){return(U=Object(m.a)(h.a.mark(function t(e,n){var a,r,o,s,i,c,u,l,p,d=arguments;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=d.length>2&&void 0!==d[2]?d[2]:null,r=Object.assign({},R),o=Object.assign({},a),Object.values(o).some(function(t){return t instanceof File})){for(r["Content-Type"]="multipart/form-data",s=new FormData,i=0,c=Object.keys(o);i<c.length;i++)u=c[i],s.append(u,o[u]);o=s}return t.prev=5,t.next=8,I.a.request({method:e,url:n,data:o,headers:r,responseType:"json",params:"get"===e?o:void 0});case 8:l=t.sent,t.next=20;break;case 11:if(t.prev=11,t.t0=t.catch(5),t.t0.response){t.next=15;break}throw t.t0;case 15:if(422!==t.t0.response.status){t.next=19;break}throw(p=new Error("422 response")).__SERVER_SIDE_ERRORS__=t.t0.response.data.errors,p;case 19:throw t.t0;case 20:return t.abrupt("return",l.data);case 21:case"end":return t.stop()}},t,null,[[5,11]])}))).apply(this,arguments)}function A(){return(A=Object(m.a)(h.a.mark(function t(e){var n,a=arguments;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},t.abrupt("return",S("get",e,n));case 2:case"end":return t.stop()}},t)}))).apply(this,arguments)}function C(){return(C=Object(m.a)(h.a.mark(function t(e){var n,a=arguments;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:null,t.abrupt("return",S("post",e,n));case 2:case"end":return t.stop()}},t)}))).apply(this,arguments)}function N(){return(N=Object(m.a)(h.a.mark(function t(e){var n,a=arguments;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:null,t.abrupt("return",S("put",e,n));case 2:case"end":return t.stop()}},t)}))).apply(this,arguments)}function z(){return(z=Object(m.a)(h.a.mark(function t(e){var n,a=arguments;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:null,t.abrupt("return",S("delete",e,n));case 2:case"end":return t.stop()}},t)}))).apply(this,arguments)}var _={get:function(t){return A.apply(this,arguments)},post:function(t){return C.apply(this,arguments)},put:function(t){return N.apply(this,arguments)},del:function(t){return z.apply(this,arguments)}};var D={compose:function(t){var e=t.rootId,n=t.items,a=n.find(function(t){return t.id===e});if(!a)throw new Error("No root found");return function t(e){e.childs=n.filter(function(t){return t.parentID()===e.id});var a=!0,r=!1,o=void 0;try{for(var s,i=e.childs[Symbol.iterator]();!(a=(s=i.next()).done);a=!0)t(s.value)}catch(c){r=!0,o=c}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}}(a),a}};function F(){return(F=Object(m.a)(h.a.mark(function t(){var e,n;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.get(x.URLS.jobRoots.index);case 2:return e=t.sent,n=e.map(w.deserialize),t.abrupt("return",n);case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function J(){return(J=Object(m.a)(h.a.mark(function t(e){var n,a,r;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.get(x.URLS.jobs.subtree(e.id));case 2:return n=t.sent,a=n.map(w.deserialize),r=D.compose({items:a,rootId:e.id}),t.abrupt("return",r);case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function B(){return(B=Object(m.a)(h.a.mark(function t(e){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.post(x.URLS.jobs.retry(e.id));case 2:case"end":return t.stop()}},t)}))).apply(this,arguments)}var T={loadRoots:function(){return F.apply(this,arguments)},updateJob:function(t){return J.apply(this,arguments)},retry:function(t){return B.apply(this,arguments)}},W=n(11),q=n(80),H=n(81),M=n(84),V=n(82),Y=function(){function t(e){Object(f.a)(this,t),this.id=0,this.content="",this.createdAt="",e.id&&(this.id=e.id),e.content&&(this.content=e.content),e.createdAt&&(this.createdAt=e.createdAt)}return Object(b.a)(t,null,[{key:"deserialize",value:function(e){return new t(e)}}]),t}();function $(){return($=Object(m.a)(h.a.mark(function t(e){var n,a;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.get(x.URLS.jobLogs.index(e.id));case 2:return n=t.sent,a=n.map(Y.deserialize).reverse(),t.abrupt("return",a);case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}var G={loadLogs:function(t){return $.apply(this,arguments)}},K=function(t){function e(t){var n;return Object(f.a)(this,e),(n=Object(v.a)(this,Object(y.a)(e).call(this,t))).state={showLogs:!1,jobLogs:[]},n.updateItem=n.updateItem.bind(Object(W.a)(n)),n.showLogs=n.showLogs.bind(Object(W.a)(n)),n.retry=n.retry.bind(Object(W.a)(n)),n}return Object(j.a)(e,t),Object(b.a)(e,[{key:"render",value:function(){var t=this.props.job;return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,null,r.a.createElement(c.a,{md:1},t.id),r.a.createElement(c.a,{md:3},t.type),r.a.createElement(c.a,{md:2},r.a.createElement("code",null,t.input)),r.a.createElement(c.a,{md:2},r.a.createElement("code",null,t.output)),r.a.createElement(c.a,{md:2},r.a.createElement(q.a,{variant:"primary"},t.status)),r.a.createElement(c.a,{md:2},r.a.createElement(H.a,{size:"sm"},r.a.createElement(M.a,{key:"update",onClick:this.updateItem},"Up"),r.a.createElement(M.a,{key:"logs",onClick:this.showLogs},"Logs"),r.a.createElement(M.a,{key:"retry",onClick:this.retry},"Retry")))),this.renderLogs())}},{key:"renderLogs",value:function(){var t=this.state,e=t.showLogs,n=t.jobLogs;return e?r.a.createElement("div",{style:{fontSize:"12px",overflowY:"scroll"}},r.a.createElement(V.a,{size:"sm"},n.map(function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.createdAt),r.a.createElement("td",null,t.content))}))):null}},{key:"updateItem",value:function(){var t=this,e=this.props.job;Object(m.a)(h.a.mark(function n(){var a;return h.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,T.updateJob(e);case 2:a=n.sent,t.props.onItemUpdate(a);case 4:case"end":return n.stop()}},n)}))()}},{key:"showLogs",value:function(){var t=this,e=this.props.job,n=this.state.showLogs;n?this.setState({showLogs:!1}):Object(m.a)(h.a.mark(function n(){var a;return h.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,G.loadLogs(e);case 2:a=n.sent,t.setState({showLogs:!0,jobLogs:a});case 4:case"end":return n.stop()}},n)}))()}},{key:"retry",value:function(){var t=this.props.job;!1!==window.confirm("Do you wanna to retry this job?")&&Object(m.a)(h.a.mark(function e(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.retry(t);case 2:case"end":return e.stop()}},e)}))()}}]),e}(r.a.Component),P={builder:function(t){return r.a.createElement(K,{job:t.item,onItemUpdate:t.onItemUpdate})}},Q=n(3),X=n.n(Q),Z=function(t){function e(t){var n;return Object(f.a)(this,e),(n=Object(v.a)(this,Object(y.a)(e).call(this,t))).state={item:t.item,opened:!t.item.isRoot()},n.toggle=n.toggle.bind(Object(W.a)(n)),n.onItemUpdate=n.onItemUpdate.bind(Object(W.a)(n)),n}return Object(j.a)(e,t),Object(b.a)(e,[{key:"render",value:function(){var t=this.props.builder,e=this.state,n=e.item,a=e.opened;return r.a.createElement(i.a,null,r.a.createElement(c.a,{md:1,className:"p-0"},r.a.createElement(M.a,{size:"sm",onClick:this.toggle},a?"\u2198":"\u2197")),r.a.createElement(c.a,{md:11,className:"p-0"},t({item:n,onItemUpdate:this.onItemUpdate}),r.a.createElement("div",{className:X()({"d-none":!a})},r.a.createElement(tt,{items:n.childs,builder:t}))))}},{key:"toggle",value:function(){this.setState({opened:!this.state.opened})}},{key:"onItemUpdate",value:function(t){this.setState({item:t})}}]),e}(r.a.Component),tt=function(t){function e(){return Object(f.a)(this,e),Object(v.a)(this,Object(y.a)(e).apply(this,arguments))}return Object(j.a)(e,t),Object(b.a)(e,[{key:"render",value:function(){var t=this.props,e=t.items,n=t.builder;return r.a.createElement("ul",{className:X()("list-group")},e.map(function(t){return r.a.createElement("li",{className:"list-group-item",key:t.id},r.a.createElement(Z,{item:t,builder:n}))}))}}]),e}(r.a.Component),et=function(t){function e(t){var n;return Object(f.a)(this,e),(n=Object(v.a)(this,Object(y.a)(e).call(this,t))).state={loading:!0,roots:[]},n}return Object(j.a)(e,t),Object(b.a)(e,[{key:"componentDidMount",value:function(){var t=this;Object(m.a)(h.a.mark(function e(){var n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.loadRoots();case 2:n=e.sent,t.setState({loading:!1,roots:n});case 4:case"end":return e.stop()}},e)}))()}},{key:"render",value:function(){var t=this.state,e=t.loading,n=t.roots;return e?r.a.createElement("div",{className:"d-flex w-100 h-100"},r.a.createElement("div",{className:"m-auto"},"Loading")):r.a.createElement(tt,{items:n,builder:P.builder})}}]),e}(r.a.Component),nt=function(){return r.a.createElement(p,null,r.a.createElement(i.a,null,r.a.createElement(c.a,{md:12,className:"pt-4"},r.a.createElement(et,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(nt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[38,1,2]]]);
//# sourceMappingURL=main.fe8f9c28.chunk.js.map